Test files that should fail before fix and pass after:
test/core/templaters/base_test.py::test__templated_file_get_line_pos_of_char_pos[01234\n6789{{foo}}fo\nbarss-01234\n6789x\nfo\nbarfss-file_slices0-0-1-1]
test/core/templaters/base_test.py::test__templated_file_get_line_pos_of_char_pos[01234\n6789{{foo}}fo\nbarss-01234\n6789x\nfo\nbarfss-file_slices1-20-3-1]
test/core/templaters/base_test.py::test__templated_file_get_line_pos_of_char_pos[01234\n6789{{foo}}fo\nbarss-01234\n6789x\nfo\nbarfss-file_slices2-24-3-5]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice0-out_slice0-True-file_slices0-raw_slices0]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice1-out_slice1-True-file_slices1-raw_slices1]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice2-out_slice2-True-file_slices2-raw_slices2]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice3-out_slice3-False-file_slices3-raw_slices3]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice4-out_slice4-False-file_slices4-raw_slices4]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice5-out_slice5-True-file_slices5-raw_slices5]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice6-out_slice6-True-file_slices6-raw_slices6]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice7-out_slice7-True-file_slices7-raw_slices7]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice8-out_slice8-True-file_slices8-raw_slices8]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice9-out_slice9-True-file_slices9-raw_slices9]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice10-out_slice10-True-file_slices10-raw_slices10]
test/core/templaters/base_test.py::test__templated_file_templated_slice_to_source_slice[in_slice11-out_slice11-False-file_slices11-raw_slices11]
test/core/templaters/base_test.py::test__templated_file_source_only_slices
test/core/templaters/jinja_test.py::test_templater_set_block_handling
test/core/templaters/jinja_test.py::test__templater_jinja_slice_file[{%

Test files that should pass both before and after fix:
test/core/templaters/base_test.py::test__indices_of_newlines[-positions0]
test/core/templaters/base_test.py::test__indices_of_newlines[foo-positions1]
test/core/templaters/base_test.py::test__indices_of_newlines[foo\nbar-positions2]
test/core/templaters/base_test.py::test__indices_of_newlines[\nfoo\n\nbar\nfoo\n\nbar\n-positions3]
test/core/templaters/base_test.py::test__templater_raw
test/core/templaters/base_test.py::test__templated_file_find_slice_indices_of_templated_pos[100-True-file_slices0-10-11]
test/core/templaters/base_test.py::test__templated_file_find_slice_indices_of_templated_pos[13-True-file_slices1-0-3]
test/core/templaters/base_test.py::test__templated_file_find_slice_indices_of_templated_pos[28-True-file_slices2-2-5]
test/core/templaters/base_test.py::test__templated_file_find_slice_indices_of_templated_pos[12-True-file_slices3-1-3]
test/core/templaters/base_test.py::test__templated_file_find_slice_indices_of_templated_pos[20-True-file_slices4-2-3]
test/core/templaters/base_test.py::test__templated_file_find_slice_indices_of_templated_pos[13-False-file_slices5-0-1]
test/core/templaters/jinja_test.py::test__templater_jinja[simple]
test/core/templaters/jinja_test.py::test__templater_jinja[unboundlocal_bugfix]
test/core/templaters/jinja_test.py::test__templater_jinja_slices[basic_block]
test/core/templaters/jinja_test.py::test__templater_jinja_slices[strip_left_block]
test/core/templaters/jinja_test.py::test__templater_jinja_slices[strip_both_block]
test/core/templaters/jinja_test.py::test__templater_jinja_slices[basic_data]
test/core/templaters/jinja_test.py::test__templater_jinja_slices[strip_right_data]
test/core/templaters/jinja_test.py::test__templater_jinja_slices[strip_both_data]
test/core/templaters/jinja_test.py::test__templater_jinja_slices[strip_both_comment]
test/core/templaters/jinja_test.py::test__templater_jinja_slices[union_all_loop1]
test/core/templaters/jinja_test.py::test__templater_jinja_error_variable
test/core/templaters/jinja_test.py::test__templater_jinja_error_syntax
test/core/templaters/jinja_test.py::test__templater_jinja_error_catastrophic
test/core/templaters/jinja_test.py::test__templater_jinja_error_macro_path_does_not_exist
test/core/templaters/jinja_test.py::test__templater_jinja_lint_empty
test/core/templaters/jinja_test.py::test__templater_full[jinja_a/jinja-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_b/jinja-False-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_c_dbt/dbt_builtins-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_c_dbt/var_default-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_e/jinja-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_f/jinja-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_g_macros/jinja-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_h_macros/jinja-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_i_raw/raw_tag-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_i_raw/raw_tag_2-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_j_libraries/jinja-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_k_config_override_path_macros/jinja-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_l_metas/001-False-True]
test/core/templaters/jinja_test.py::test__templater_full[jinja_l_metas/002-False-True]
test/core/templaters/jinja_test.py::test__templater_full[jinja_m_libraries_module/jinja-True-False]
test/core/templaters/jinja_test.py::test__templater_full[jinja_n_nested_macros/jinja-True-False]
test/core/templaters/jinja_test.py::test__templater_jinja_slice_template[-result0]
test/core/templaters/jinja_test.py::test__templater_jinja_slice_template[foo-result1]
test/core/templaters/jinja_test.py::test__templater_jinja_slice_template[foo
test/core/templaters/jinja_test.py::test__templater_jinja_slice_template[SELECT
test/core/templaters/jinja_test.py::test__templater_jinja_slice_template[{%
test/core/templaters/jinja_test.py::test__templater_jinja_slice_file[-None-result0]
test/core/templaters/jinja_test.py::test__templater_jinja_slice_file[foo-None-result1]
test/core/templaters/jinja_test.py::test__templater_jinja_slice_file[SELECT
test/core/templaters/jinja_test.py::test__templater_jinja_slice_file[{{
test/core/templaters/jinja_test.py::test__templater_jinja_slice_file[SELECT\n
test/core/templaters/jinja_test.py::test__templater_jinja_slice_file[{%-
test/core/templaters/jinja_test.py::test__templater_jinja_slice_file[select\n