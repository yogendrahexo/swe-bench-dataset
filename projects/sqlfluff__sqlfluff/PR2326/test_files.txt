Test files that should fail before fix and pass after:
test/core/parser/grammar_test.py::test__parser__grammar__base__longest_trimmed_match__basic[seg_list_slice0-matcher_keywords0-False-result_slice0]
test/core/parser/grammar_test.py::test__parser__grammar__base__longest_trimmed_match__basic[seg_list_slice1-matcher_keywords1-True-result_slice1]
test/core/parser/grammar_test.py::test__parser__grammar__base__longest_trimmed_match__basic[seg_list_slice2-matcher_keywords2-False-None]
test/core/parser/grammar_test.py::test__parser__grammar__base__longest_trimmed_match__basic[seg_list_slice3-matcher_keywords3-True-result_slice3]
test/core/parser/grammar_test.py::test__parser__grammar__base__longest_trimmed_match__adv
test/core/parser/grammar_test.py::test__parser__grammar__base__look_ahead_match[seg_list_slice0-matcher_keywords0-result_slice0-bar-None]
test/core/parser/grammar_test.py::test__parser__grammar__base__look_ahead_match[seg_list_slice1-matcher_keywords1-result_slice1-foo-pre_match_slice1]
test/core/parser/grammar_test.py::test__parser__grammar__base__ephemeral_segment
test/core/parser/grammar_test.py::test__parser__grammar__oneof__ephemeral_segment
test/core/parser/grammar_test.py::test__parser__grammar__base__bracket_sensitive_look_ahead_match
test/core/parser/grammar_test.py::test__parser__grammar__base__bracket_fail_with_open_paren_close_square_mismatch
test/core/parser/grammar_test.py::test__parser__grammar__base__bracket_fail_with_unexpected_end_bracket
test/core/parser/grammar_test.py::test__parser__grammar__ref_eq
test/core/parser/grammar_test.py::test__parser__grammar__oneof__copy
test/core/parser/grammar_test.py::test__parser__grammar_oneof[True]
test/core/parser/grammar_test.py::test__parser__grammar_oneof[False]
test/core/parser/grammar_test.py::test__parser__grammar_oneof_templated
test/core/parser/grammar_test.py::test__parser__grammar_oneof_exclude
test/core/parser/grammar_test.py::test__parser__grammar_oneof_take_longest_match
test/core/parser/grammar_test.py::test__parser__grammar_oneof_take_first
test/core/parser/grammar_test.py::test__parser__grammar_startswith_a[baar-False]
test/core/parser/grammar_test.py::test__parser__grammar_startswith_a[bar-True]
test/core/parser/grammar_test.py::test__parser__grammar_startswith_b[False-3]
test/core/parser/grammar_test.py::test__parser__grammar_startswith_b[True-4]
test/core/parser/grammar_test.py::test__parser__grammar_sequence
test/core/parser/grammar_test.py::test__parser__grammar_sequence_nested
test/core/parser/grammar_test.py::test__parser__grammar_sequence_indent
test/core/parser/grammar_test.py::test__parser__grammar_sequence_indent_conditional
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list0-None-True-False-5]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list1-None-True-False-6]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list2-None-True-False-0]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list3-None-True-True-3]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list4-0-True-False-5]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list5-0-False-False-1]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list6-1-True-False-5]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list7-1-False-False-0]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list8-None-True-False-3]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list9-None-False-False-3]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list10-1-True-False-3]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list11-1-False-False-3]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list12-1-False-False-3]
test/core/parser/grammar_test.py::test__parser__grammar_delimited[token_list13-2-True-False-0]
test/core/parser/grammar_test.py::test__parser__grammar_greedyuntil[foo-False-1]
test/core/parser/grammar_test.py::test__parser__grammar_greedyuntil[bar-False-0]
test/core/parser/grammar_test.py::test__parser__grammar_greedyuntil[baar-False-3]
test/core/parser/grammar_test.py::test__parser__grammar_greedyuntil[baar-True-6]
test/core/parser/grammar_test.py::test__parser__grammar_greedyuntil_bracketed
test/core/parser/grammar_test.py::test__parser__grammar_anything
test/core/parser/grammar_test.py::test__parser__grammar_nothing
test/core/parser/grammar_test.py::test__parser__grammar_noncode
test/core/parser/grammar_test.py::test__parser__grammar_anysetof

Test files that should pass both before and after fix:
